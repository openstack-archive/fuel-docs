.. _updates-fuel-rn:

OpenStack Fuel
--------------

Known Issues
++++++++++++

* The Fuel library uses `centos-versions.yaml` and `ubuntu-versions.yaml`
  to look up package versions when running the puppet. To add a Controller
  node, the puppet runs on all controllers not just on a new one. When
  puppet encounters a package of a different version in `centos-versions.yaml`
  or `ubuntu-versions.yaml`, it tries to reinstall it. In case of Maintenance
  Updates, this leads to a failed deployment. See `LP1470650`_.

  The workaround is to remove `centos-versions.yaml` and `ubuntu-versions.yaml`
  from `/etc/puppet/manifests`::

    mv /etc/puppet/manifests/*.yaml ~/

Resolved Issues
+++++++++++++++

* Now, OCF scripts can be updated by RPM/DEB packages. See `LP1465771`_.
  However, the package ``fuel-ha-utils6.0`` is not included into
  Mirantis OpenStack 6.0. Therefore, you can install it manually when
  applying updates for the first time:

  For Ubuntu::

   apt-get install fuel-ha-utils6.0

  For CentOS::

   yum install fuel-ha-utils6.0

  Run the above commands on all the cluster servers.

* RabbitMQ expiration policies were added to the OCF script to fix
  the issue with a growing number of RabbitMQ queues during an
  unexpected shutdown of controllers. See `LP1429124`_.

.. _`LP1470650`: https://bugs.launchpad.net/fuel/+bug/1470650
.. _`LP1465771`: https://bugs.launchpad.net/fuel/+bug/1465771
.. _`LP1429124`: https://bugs.launchpad.net/fuel/+bug/1429124
